ã€å®‰è£…ï¼š`pip install ulang`ï¼Œç”¨æ³•ä¸ä¾‹ç¨‹è¯·è§ [PyPI](https://pypi.org/project/ulang/)ã€‚æºç ä½äº[å¼€æºä¸­å›½](https://gitee.com/MulanRevive/mulan-rework)ã€‚ ***æ³¨æ„ï¼šå¿…éœ€ python 3.7ï¼Œæºç æ–‡ä»¶éœ€ UTF-8 ç¼–ç ***ã€‘
## 2022å¹´å°ç»“

å»å¹´ï¼Œä¸ƒæœˆå‘å¸ƒ 0.0.22 ç‰ˆä¹‹åé¡¹ç›®é™é»˜äº†ä¸€æ®µæ—¶é—´ã€‚ä»Šå¹´ä¸€æœˆæœ«å¼€å§‹ [æ‚¬èµä»»åŠ¡åˆå¼€å§‹å¤§æ­¥æ¨è¿›](https://my.oschina.net/u/4552012/blog/5610901)ã€‚é‡ç°åŠŸèƒ½é‡è¾ƒå¤§ï¼Œå› æ­¤å‘å¸ƒå¤§ç‰ˆæœ¬ã€‚

*** æ„Ÿæ¿€æ‰€æœ‰å‚ä¸è€…çš„åˆä½œã€è€å¿ƒå’Œæ¢ç©¶ç²¾ç¥ï¼***

## æ­¤ç‰ˆæœ¬é‡ç°åŠŸèƒ½

æŒ‰å„æ‚¬èµä»»åŠ¡çš„å®Œæˆå…ˆåé¡ºåºé€ä¸ªä»‹ç»ã€‚

### æ›´å¤šå¢é‡è¿ç®—

æ—©å…ˆå®Œæˆäº† += -=ï¼Œç°å·²å®Œæˆä½™ä¸‹çš„ *= ^= |= &= /= %= ç­‰ï¼š

```
> a = 10
> a %= 4
> a
2
```

### æœ¨å…°æºç è½¬æ¢ä¸º Python

ç°åœ¨ --dump-python å‘½ä»¤è¡Œé€‰é¡¹å¯ä»¥å°†æœ¨å…°æºç è½¬æ¢ä¸º Python æºç ï¼š
```
> æœ¨å…° --dump-python æµ‹è¯•\ç®—æ³•\æ’åº\å†’æ³¡.ul
import sys
from math import *
ARGV = sys.argv[1:]
def å†’æ³¡(æ•°åˆ—):
  æ¢è¿‡ = True
  while æ¢è¿‡:
    æ¢è¿‡ = False
    for i in range(0, len(æ•°åˆ—) - 2 + 1):
      å‰é¡¹ = æ•°åˆ—[i]
      åé¡¹ = æ•°åˆ—[i + 1]
      if (å‰é¡¹ > åé¡¹):
        (æ•°åˆ—[i], æ•°åˆ—[i + 1]) = (åé¡¹, å‰é¡¹)
        æ¢è¿‡ = True
æ‰“ä¹±æ•°åˆ— = [5, 2, 1, 8, 4]
å†’æ³¡(æ‰“ä¹±æ•°åˆ—)
print(æ‰“ä¹±æ•°åˆ—)
```

### åŒ¿åå‡½æ•°æ”¯æŒå¤šå‚æ•°ä¸æ— å‚æ•°

ä»¥åŠæ³¨è§£å‚æ•°ç±»å‹
```
> ä½“ç§¯ = (é•¿:int, å®½:int, é«˜:int) -> é•¿*å®½*é«˜
print(ä½“ç§¯(2, 3, 4))
24
> a = () -> 3
print(a())
3
```
æœŸé—´å‘ç°ç¬¬ä¸€ä¸ªå½¢å‚ [ä¸æ”¯æŒé»˜è®¤å€¼](https://gitee.com/MulanRevive/mulan-rework/pulls/34#note_11132450_conversation_55695156)ï¼Œä¸è§£åŸå› ã€‚

### å‡½æ•°æ”¯æŒè‹¥å¹²å½¢å‚ï¼ˆç‚¹ç‚¹ç‚¹ï¼‰

åŒ…æ‹¬æ™®é€šå‡½æ•°
```
>func å“ˆ(...) {{
    __varargs__ = tuple('ha', 'ha')
    print(...)
}
å“ˆ(2, 3, 3, 3)
hah
```

å’ŒåŒ¿åå‡½æ•°
```
>b = (...) -> max(...))
print(b(3, 1, 2))
3
```

ä»¥ä¸‹æ˜¯åæœˆæœ«ä¹‹åå®Œæˆçš„ã€‚

### .. ä½œä¸ºæ¨¡å—è·¯å¾„

[è¯¦è§æ­¤ pr](https://gitee.com/MulanRevive/mulan-rework/pulls/39)
```
using * in ..

func talk() {
    module_py.talk('..')
}
```

### æ›´å¤šè¶…ç±»è¯­æ³•ï¼Œä½†è¿è¡ŒæŠ¥é”™ï¼Œä¸æ˜ç”¨æ„

è§æœ€åä¸¤è¡Œç¤ºä¾‹ã€‚è¿è¡Œæœ‰æŠ¥é”™ï¼Œä¸åŸå§‹æœ¨å…°è¡Œä¸ºç›¸åŒï¼Œå› è€Œä»…æ·»åŠ äº†è¯­æ³•æ ‘æµ‹è¯•ã€‚è¯¦è§ [æ­¤pr](https://gitee.com/MulanRevive/mulan-rework/pulls/40)ã€‚
```
type Person : list {
  func $Person {
    super.__init__()
  }
}
p = Person()
v = p.super
Person.super(None)
```

### åœ¨ç±»å‹å†…å®šä¹‰ç±»å‹
```
type Animal {
    type Child {
        func $Child(name) {
            $name = name
        }
    }
    func getChildName() {
        c = Animal.Child('Animal.Child').name
        return c
    }
}

p = Animal()
print(p.getChildName())
```

### åå…­è¿›åˆ¶æ•°å­—
```
> n = 12 + 0x1F + 0X1a + 0xab + 0XCD
print(n)
445
```
ä½†æ ¼å¼æœ‰è¯¯æ—¶æŠ¥é”™æ¯”è¾ƒè´¹è§£ï¼š
```
> print(0xg)
 ğŸ˜° è¯·å…ˆå®šä¹‰â€˜xgâ€™å†ä½¿ç”¨ï¼Œè§ç¬¬1è¡Œ
```
åº”è¯¥æ˜¯æœ¨å…°æ”¯æŒ [ä¹˜æ³•çœç•¥ä¹˜å·](https://zhuanlan.zhihu.com/p/205190684) çš„å‰¯ä½œç”¨ã€‚

### ï¼ˆè¯­ä¹‰å¾…ç¡®å®šï¼‰å¤æ‚ç±»å‹æ³¨è§£

è¯¦è§ [æ­¤pr](https://gitee.com/MulanRevive/mulan-rework/pulls/43)ï¼Œè¯­æ³•ä¸Šæ”¯æŒåµŒå¥—çš„ç±»å‹æ³¨è§£ï¼Œä½†ä¸çŸ¥ç”¨æ„å’Œå»ºè®®ç”¨æ³•ä¸ºä½•ã€‚

```
func hello(a : tuple [ int ]) : int [ float, list [ str ], dict ] {
  print(a)
}
a : list [ int ] = 2
```

### è¡¥å…¨ try ... catch ... finally

```
try f=open('__init__.py', 'r') {
  print(len(f.read()))
  print([][int('0')])
} catch e : ValueError {
  print('v')
} catch e : IndexError {
  print('i')
} finally {
  print('f')
}
```

### é‡è½½ä½™ä¸‹æ‰€æœ‰æ“ä½œç¬¦ï¼ŒåŒ…æ‹¬äºŒå…ƒã€ä¸€å…ƒç­‰

åŒ…æ‹¬ä¸‹ä¾‹çš„ 26 ä¸ªæ“ä½œç¬¦ï¼Œè¯¦è§ [æ­¤æ–‡æ¡£](https://gitee.com/MulanRevive/mulan-rework/blob/master/%E6%96%87%E6%A1%A3/%E7%94%A8%E6%88%B7%E6%89%8B%E5%86%8C/%E6%93%8D%E4%BD%9C%E7%AC%A6.md)ã€‚
```
type P : str {
    operator + (a) {
        return str(self) + str(a) + 'å•Š'
    }
    
    {}
}
a = P("ä½ ")
b = P("å¥½")
print(a+b)  // è¾“å‡ºâ€œä½ å¥½å•Šâ€
```

## å…¶ä»–ç»´æŠ¤

- [æµ‹è¯•.unittest.åŸå§‹å¯æ‰§è¡Œæ–‡ä»¶ æŠ¥é”™é—®é¢˜](https://gitee.com/MulanRevive/mulan-rework/issues/I5F7MC)ï¼ŒæœŸé—´ç ”ç©¶äº†ç¼–è§£ç é—®é¢˜ã€‚
- [æ·»åŠ github workflowä¸å¯¹åº”å¾½ç« ](https://gitee.com/MulanRevive/dashboard?issue_id=I5V08V)
- ä¸¤å‘¨æ¥çš„ä¸€ç³»åˆ—ä»£ç å’Œæ–‡æ¡£è§„æ•´å’Œæ¸…ç†
